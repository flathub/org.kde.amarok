{
    "app-id": "org.kde.amarok",
    "runtime": "org.kde.Platform",
    "runtime-version": "6.10",
    "base": "io.qt.qtwebengine.BaseApp",
    "base-version": "6.10",
    "sdk": "org.kde.Sdk",
    "command": "amarok",
    "rename-icon": "amarok",
    "finish-args": [
        "--device=dri",
        "--env=QTWEBENGINEPROCESS_PATH=/app/bin/QtWebEngineProcess",
        "--filesystem=/media",
        "--filesystem=/run/media",
        "--filesystem=home",
        "--own-name=org.mpris.MediaPlayer2.amarok",
        "--share=ipc",
        "--share=network",
        "--socket=fallback-x11",
        "--socket=pulseaudio",
        "--socket=wayland",
        "--system-talk-name=org.freedesktop.UDisks2",
        "--talk-name=org.kde.StatusNotifierWatcher",
        "--talk-name=org.kde.kcookiejar5",
        "--talk-name=org.kde.kglobalaccel"
    ],
    "cleanup": [
        "/include",
        "/lib/*/pkgconfig",
        "/mariadb-test",
        "/share/doc",
        "/share/kdevappwizard",
        "/share/qlogging-categories6",
        "/sql-bench",
        "*la",
        "*.a"
    ],
    "cleanup-commands": [
        "/app/cleanup-BaseApp.sh"
    ],
    "modules": [
        {
            "name": "fmt",
            "buildsystem": "cmake-ninja",
            "builddir": true,
            "config-opts": [
                "-DFMT_DOC=OFF",
                "-DFMT_TEST=OFF"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/fmtlib/fmt/releases/download/12.1.0/fmt-12.1.0.zip",
                    "sha256": "695fd197fa5aff8fc67b5f2bbc110490a875cdf7a41686ac8512fb480fa8ada7",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 11526,
                        "stable-only": true,
                        "url-template": "https://github.com/fmtlib/fmt/releases/download/$version/fmt-$version.zip"
                    }
                }
            ]
        },
        {
            "name": "mariadb",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DWITH_EMBEDDED_SERVER=ON",
                "-DDEFAULT_CHARSET=utf8mb4",
                "-DDEFAULT_COLLATION=utf8mb4_unicode_ci",
                "-DPLUGIN_EXAMPLE=NO",
                "-DPLUGIN_FEDERATED=NO",
                "-DPLUGIN_FEEDBACK=NO",
                "-DWITH_EXTRA_CHARSETS=complex",
                "-DWITH_JEMALLOC=ON",
                "-DWITH_PCRE2=system",
                "-DWITH_LIBFMT=system",
                "-DWITH_SSL=system",
                "-DWITH_SYSTEMD=no",
                "-DWITH_UNIT_TESTS=OFF",
                "-DWITH_ZLIB=system",
                "-DWITHOUT_ARCHIVE_STORAGE_ENGINE=1",
                "-DWITHOUT_BLACKHOLE_STORAGE_ENGINE=1",
                "-DWITHOUT_PARTITION_STORAGE_ENGINE=1",
                "-DWITHOUT_TOKUDB=1",
                "-DWITHOUT_EXAMPLE_STORAGE_ENGINE=1",
                "-DWITHOUT_FEDERATED_STORAGE_ENGINE=1",
                "-DWITHOUT_PBXT_STORAGE_ENGINE=1"
            ],
            "cleanup": [
                "/bin",
                "/include",
                "/lib/pkgconfig",
                "/man",
                "*.a"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://archive.mariadb.org/mariadb-11.8.6/source/mariadb-11.8.6.tar.gz",
                    "sha256": "b126581a8ca89376d2a3ce63fee97c114c3e15315345e769b9d00c51e1b7d619",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 1887,
                        "stable-only": true,
                        "url-template": "https://archive.mariadb.org/mariadb-$version/source/mariadb-$version.tar.gz",
                        "versions": {
                            "<": "12.0"
                        }
                    }
                }
            ]
        },
        {
            "name": "libmygpo-qt6",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DMYGPO_BUILD_TESTS=OFF",
                "-DBUILD_WITH_QT6=ON"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/Mazhoon/libmygpo-qt.git",
                    "commit": "4dfa3ba1f075ca9c9dbd5b452f88ba75f6f13c31"
                }
            ]
        },
        {
            "name": "liblastfm-qt6",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTS=OFF",
                "-DCMAKE_CXX_STANDARD=14"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/Mazhoon/liblastfm.git",
                    "commit": "81e8f9dc16a0a18fe9a066d51c2071086326670b"
                }
            ],
            "modules": [
                "shared-modules/linux-audio/fftw3f.json"
            ]
        },
        {
            "name": "libmtp",
            "buildsystem": "autotools",
            "config-opts": [
                "--with-udev=/app/lib/udev"
            ],
            "cleanup": [
                "/share/doc",
                "*.a",
                "*.la"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/libmtp/libmtp/releases/download/v1.1.22/libmtp-1.1.22.tar.gz",
                    "sha256": "c3fcf411aea9cb9643590cbc9df99fa5fe30adcac695024442973d76fa5f87bc",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 10017,
                        "stable-only": true,
                        "url-template": "https://github.com/libmtp/libmtp/releases/download/v$version/libmtp-$version.tar.gz"
                    }
                }
            ]
        },
        {
            "name": "amarok",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/amarok/3.3.2/amarok-3.3.2.tar.xz",
                    "sha256": "aa436b09d3991be48cf37e6f0b71f58aebd5bffaba0fdce7ffd3c2b485d3660b",
                    "x-checker-data": {
                        "is-main-source": true,
                        "type": "anitya",
                        "project-id": 13985,
                        "stable-only": true,
                        "url-template": "https://download.kde.org/stable/amarok/$version/amarok-$version.tar.xz"
                    }
                }
            ]
        }
    ]
}
